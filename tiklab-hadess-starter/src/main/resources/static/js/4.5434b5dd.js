(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1157:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/inline.png"},1308:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return we}));var n=r(0),a=r.n(n),o=(r(429),r(205)),i=r(46),l=r(6),c=(r(801),r(796)),u=(r(117),r(54)),d=(r(424),r(136)),s=(r(432),r(210)),g=(r(178),r(90)),f=(r(179),r(43)),p=r(437),m=r(610),b=r(144),y=r(623),h=r(215),w=r(97),v=r(663),O=(r(201),r(723),r(754),r(430),r(714),r(715)),x=(r(705),r(704),r(724)),j=r(738),E=(r(426),r(690),r(713),r(696),r(180)),I=(r(1029),r(987)),S=(r(422),r(199)),_=(r(425),r(118)),k=r(7),P=r(725),N=(r(737),r(204),r(124));function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var K=Object(i.inject)(N.a)(Object(i.observer)((function(e){var t=e.visible,r=e.isEdit,o=e.cancelAddOrg,i=e.editData,c=e.selectOrg,u=e.getTree,d=e.userDir,s=void 0===d?[]:d,g=e.orgStore.findOrgaTreeAction,f=F(_.default.useForm(),1)[0],m=Object(p.a)().t,b=F(Object(n.useState)(null),2),y=b[0],h=b[1],w=F(Object(n.useState)([]),2),v=w[0],O=w[1];Object(n.useEffect)((function(){t&&i&&(r?(f.setFieldsValue({parentOrga:i.parentOrga?i.parentOrga.orgaId:null,orgaName:i.orgaName,dirId:i.dirId}),h(i.path)):(f.setFieldsValue({parentOrga:i.orgaId}),i.path?h("".concat(i.orgaId,",").concat(i.path)):h("".concat(i.orgaId))))}),[t,i]),Object(n.useEffect)((function(){t&&g({dirId:"1"}).then((function(e){e.code||O(e.data)}))}),[t]);var x,j;return a.a.createElement(P.a,{title:r?m("orga-common.edit")+m("orga-common.orga"):m("orga-common.add")+m("orga-common.orga"),visible:t,onCancel:function(){f.resetFields(),o()},onOk:function(){f.submit()}},a.a.createElement(_.default,{form:f,onFinish:function(e){var t="/user/orga/createOrga",n={orgaName:e.orgaName,parentOrga:{orgaId:e.parentOrga},dirId:e.dirId,path:y};r&&(t="/user/orga/updateOrga",n=D(D({},n),{},{orgaId:i.orgaId})),l.Axios.post(t,n).then((function(t){t.code||(c.orgaId===i.orgaId&&(c.orgaName=e.orgaName),u(e.parentOrga),f.resetFields(),o())}))},layout:"vertical"},a.a.createElement(_.default.Item,{label:m("orga-label.orgaName"),name:"orgaName",rules:[{required:!0,message:"用户名不能包含非法字符，如&,%，&，#……等"}]},a.a.createElement(S.default,null)),a.a.createElement(_.default.Item,{label:m("orga-label.parentOrg"),name:"parentOrga"},a.a.createElement(I.default,{disabled:!0,style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:(x=[],j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var n={};if(e.orgaId===(null==i?void 0:i.orgaId)){if(n={title:e.orgaName,value:e.orgaId,path:e.path,disabled:!0},t.push(n),e.children&&e.children.length>0)return j(e.children,n.children=[],n.disabled)}else n={title:e.orgaName,value:e.orgaId,path:e.path,disabled:r},t.push(n);if(e.children&&e.children.length>0)return j(e.children,n.children=[],r)}))},j(Object(k.toJS)(v.filter((function(e){return!e.parentOrga}))),x),x),placeholder:m("orga-label.parentOrgPlaceholder"),treeDefaultExpandedKeys:[v.length>0&&v[0].orgaId],onChange:function(e,t,r){var n=r.triggerNode.props.path;h(n?"".concat(n,",").concat(e):e)}})),a.a.createElement(_.default.Item,{label:m("orga-label.userType"),name:"dirId",initialValue:"1",rules:[{required:!0,message:m("orga-table.userTypeRequired")}]},a.a.createElement(E.default,{disabled:!0},s.map((function(e){return a.a.createElement(E.default.Option,{key:e.id,value:e.id},e.name)}))))))})));function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var J=function(e){var t=e.selectOrg,o=e.onSelect,i=e.loadTreeParams,l=e.userDir,E=e.setTreeParams,I=e.treeData,S=e.setTreeData,_=e.orgStore,k=_.deleteOrgaAction,P=_.findOrgaAction,N=_.findOrgaOrChild,A=Object(p.a)().t,T=V(Object(n.useState)(!1),2),D=T[0],C=T[1],F=V(Object(n.useState)(null),2),U=F[0],R=F[1],z=V(Object(n.useState)(!1),2),M=z[0],$=z[1],q=V(Object(n.useState)(["111111"]),2),J=q[0],G=q[1],H=function(e,t,r){return e.map((function(e){return e.orgaId===t?r:e.children&&e.children.length>0?B(B({},e),{},{children:H(e.children,t,r)}):e}))},Y={1:r(1157).default,2:r(949).default,3:r(950).default,4:r(951).default,5:r(950).default,6:r(951).default,7:r(949).default},Q=function(e){var r=e.dirId,n=e.orgaId,o=e.orgaName,l=e.orgaNumber;return a.a.createElement("div",{className:"orga-tree_item_action"},a.a.createElement("div",{className:"orga-tree_item_action_name",title:o},o),a.a.createElement("div",{className:"orga-tree_item_action_orgaNumber ".concat("1"===r?"action_orgaNumber_hide":"")},l),"1"===r&&a.a.createElement("div",{className:"tiklab_tree_actions"},a.a.createElement(u.default,null,a.a.createElement(v.PrivilegeButton,{code:"orga_add_orga"},a.a.createElement(g.default,{title:"添加部门"},a.a.createElement("span",{onClick:function(t){return function(e,t){e.stopPropagation(),R(t),C(!0)}(t,e)},className:"tiklab_tree_actions-icon"},a.a.createElement(m.default,null)))),a.a.createElement(d.default,{overlay:a.a.createElement("div",{className:"orga-tree-actions-menu"},a.a.createElement(v.PrivilegeButton,{code:"orga_update_orga"},a.a.createElement("div",{className:"orga-tree-actions-item",onClick:function(t){return function(e,t){e.stopPropagation(),P(t.orgaId).then((function(e){e.code||(R(e.data),$(!0),C(!0))}))}(t,e)}},"编辑组织")),"111111"!==n&&a.a.createElement(v.PrivilegeButton,{code:"orga_delete_orga"},a.a.createElement(s.default,{placement:"topRight",title:"你确定删除吗",onConfirm:function(r){return function(e,r){if(e.stopPropagation(),r.children.length>0)return f.default.error("组织中存在部门,不能删除");k(r.orgaId).then((function(e){e.code||i(r.orgaId===t.orgaId)}))}(r,e)},okText:"确定",cancelText:"取消"},a.a.createElement("div",{className:"orga-tree-actions-item",onClick:function(e){return e.stopPropagation()}},"删除组织")))),trigger:["click","hover"]},a.a.createElement("span",{onClick:function(e){return e.stopPropagation()},className:"tiklab_tree_actions-icon"},a.a.createElement(b.default,null))))))},W=function(e){return null==e?void 0:e.map((function(e){var t,r,n,o;return e.children&&e.children.length>0?a.a.createElement(c.default.TreeNode,{title:Q(e),key:e.orgaId,sort:e.sort,dirId:e.dirId,orgaName:e.orgaName,parentOrga:e.parentOrga,icon:"111111"===e.orgaId?a.a.createElement(y.a,null):"111111"===(null===(t=e.parentOrga)||void 0===t?void 0:t.orgaId)?a.a.createElement("img",{src:Y[e.dirId],width:14,height:14,alt:""}):a.a.createElement(a.a.Fragment,null),isLeaf:0===(null===(r=e.children)||void 0===r?void 0:r.length),switcherIcon:function(e){var t=e.expanded;return"111111"===e.data.key?null:t?a.a.createElement(h.a,{style:{fontSize:10}}):a.a.createElement(w.default,{style:{fontSize:10}})},className:"111111"===e.orgaId?"parent-tree-name":""},W(e.children)):a.a.createElement(c.default.TreeNode,{title:Q(e),key:e.orgaId,sort:e.sort,dirId:e.dirId,orgaName:e.orgaName,parentOrga:e.parentOrga,icon:"111111"===e.orgaId?a.a.createElement(y.a,null):"111111"===(null===(n=e.parentOrga)||void 0===n?void 0:n.orgaId)?a.a.createElement("img",{src:Y[e.dirId],width:14,height:14,alt:""}):a.a.createElement(a.a.Fragment,null),isLeaf:0===(null===(o=e.children)||void 0===o?void 0:o.length),className:"111111"===e.orgaId?"parent-tree-name":""})}))};return a.a.createElement("div",{className:"orga-tree-wrap"},a.a.createElement("div",{className:"orga-tree-wrap-upper"},a.a.createElement(O.a,{firstItem:"部门"},a.a.createElement(v.PrivilegeButton,{code:"orga_add_orga"},a.a.createElement(g.default,{title:"添加部门"},a.a.createElement("div",{className:"upper-add",onClick:function(){I[0]&&"1"===I[0].dirId?R(I[0]):R({orgaId:"111111"}),C(!0),$(!1)}},a.a.createElement(m.default,null))))),a.a.createElement(j.a,{placeholder:A("orga-common.search")+A("orga-common.orga")+A("orga-common.name"),onPressEnter:function(e){e.target.value?E({orgaName:e.target.value}):E({orgaId:"111111"})}})),a.a.createElement("div",{className:"orga-tree-wrap-tree"},(null==I?void 0:I.length)>0?a.a.createElement(c.default.DirectoryTree,{blockNode:!0,multiple:!0,showIcon:!0,defaultExpandParent:!0,defaultExpandedKeys:["111111"],defaultSelectedKeys:["111111"],selectedKeys:[null==t?void 0:t.orgaId],loadData:function(e){return new Promise((function(t){var r=e.key;e.children?t():N({orgaId:r}).then((function(e){if(0===e.code){var n=H(I,r,e.data[0]);S(n)}t()}))}))},onSelect:function(e,t){var r=t.node,n={orgaName:r.orgaName,parentOrga:r.parentOrga,sort:r.sort,orgaId:r.key,dirId:r.dirId,path:r.path};o(n)},expandedKeys:J,onExpand:function(e){var t=e.includes("111111")?e:[].concat(L(e),["111111"]);G(t)}},W(I)):a.a.createElement(x.a,null)),a.a.createElement(K,{isEdit:M,userDir:l,visible:D,editData:U,selectOrg:t,getTree:function(e){i(!1)},cancelAddOrg:function(){C(!1),R({}),$(!1)}}))},G=(r(427),r(202)),H=(r(423),r(200)),Y=(r(648),r(647)),Q=r(952),W=r(855);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ee=function(e){var t=e.visible,r=e.setVisible,o=e.orgId,i=e.getOrgaUser,c=e.userDir,u=e.loadTreeParams,d=X(Object(n.useState)([]),2),s=d[0],g=d[1],f=X(Object(n.useState)([]),2),p=f[0],m=f[1];Object(n.useEffect)((function(){t&&l.Axios.post("/user/userOrga/findUserOrgaList",{orgaId:o}).then((function(e){0===e.code&&(m(e.data.map((function(e){return e.user.id}))),g(e.data.map((function(e){return e.user.id}))))}))}),[t]);var b=function(){g([]),r(!1)};return a.a.createElement(W.a,{visible:t,userDir:c,allSelectIds:p,selectedRowKeys:s,setSelectedRowKeys:g,handleOk:function(){var e=s.filter((function(e){return!p.includes(e)})).map((function(e){return t={user:{id:e},orga:{orgaId:o}},l.Axios.post("/user/userOrga/createUserOrga",t);var t}));Promise.all(e).then((function(e){b(),i({orgaId:o},1),u()}))},handleCancel:b})},te=r(735),re=r(752),ne=r(716),ae=r(753);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){return(ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ge=Object(i.inject)("orgStore")(Object(i.observer)((function(e){var t,r=e.selectOrg,i=e.userDir,l=e.params,c=e.setParams,d=e.loadTreeParams,s=e.orgStore,g=s.deleteUserOrgaAction,f=s.findUserOrgaPageAction,m=Object(p.a)().t,b={currentPage:1,pageSize:10},y=de(Object(n.useState)([]),2),h=y[0],w=y[1],E=de(Object(n.useState)({}),2),I=E[0],S=E[1],_=de(Object(n.useState)(!1),2),k=_[0],P=_[1],N=de(Object(n.useState)(!1),2),A=N[0],T=N[1],D=de(Object(n.useState)(null),2),C=D[0],F=D[1];Object(n.useEffect)((function(){null!=r&&r.orgaId&&l&&U()}),[l]),Object(n.useEffect)((function(){null!=r&&r.orgaId&&F(null)}),[r]);var U=function(){P(!0),f(ce(ce({},l),{},{orgaId:r.orgaId})).then((function(e){0===e.code&&(S({totalPage:e.data.totalPage,totalRecord:e.data.totalRecord,currentPage:e.data.currentPage}),w(e.data.dataList)),P(!1)}))},K=function(e){c(ce(ce({},l),{},{pageParam:{currentPage:e,pageSize:10}}))},R=[{title:m("orga-table.nickname"),dataIndex:["user","nickname"],width:"20%",ellipsis:!0,render:function(e,t){return a.a.createElement(u.default,null,a.a.createElement(te.a,{userInfo:null==t?void 0:t.user}),e)}},{title:m("orga-table.name"),dataIndex:["user","name"],width:"19%",ellipsis:!0,render:function(e){return e||"--"}},{title:m("orga-table.phone"),dataIndex:["user","phone"],width:"19%",ellipsis:!0,render:function(e){return e||"--"}},{title:m("orga-table.email"),dataIndex:["user","email"],width:"19%",ellipsis:!0,render:function(e){return e||"--"}},{title:"用户目录",dataIndex:["user","dirId"],width:"15%",ellipsis:!0,render:function(e){var t=i.findIndex((function(t){return t.id===e}));return t>-1?i[t].name:"--"}},{title:m("orga-common.action"),key:"action",width:"8%",ellipsis:!0,render:function(e,t){return("1"===t.user.dirId||"0"===t.user.dirId)&&a.a.createElement(v.PrivilegeButton,{code:"orga_delete_user"},a.a.createElement(re.a,{del:function(){return e=t.id,void g(e).then((function(e){if(!e.code){var t=Object(Q.a)(I.totalRecord,10,l.pageParam.currentPage);K(t),d()}}));var e}}))}}];return a.a.createElement(G.default,{className:"orga_table"},a.a.createElement(H.default,{xs:{span:"24"},sm:{span:"24"},md:{span:"24"},lg:{span:"24"},xl:{span:"24"},xxl:{span:"20",offset:"2"},className:"orga_table_right"},a.a.createElement(O.a,{firstItem:(null==r?void 0:r.orgaName)||"部门"}),r?a.a.createElement(o.default,{spinning:k},a.a.createElement("div",{className:"org-detail"},a.a.createElement("div",{className:"org-detail_title2_main"},a.a.createElement("span",{className:"org-detail_user_title2"},"用户(",(null==I?void 0:I.totalRecord)||0,")"),a.a.createElement(u.default,null,a.a.createElement(j.a,{placeholder:"搜索姓名、用户名",onPressEnter:function(e){c(ce(ce({},l),{},{userName:e.target.value,pageParam:b}))},style:{width:180},value:C,onChange:function(e){return F(e.target.value)}}),a.a.createElement(v.PrivilegeButton,{code:"orga_add_user"},a.a.createElement(ne.a,{type:"1"!==r.dirId?"disabled":"primary",onClick:"1"!==r.dirId?null:function(){T(!0)},title:m("orga-label.addUser")})))),a.a.createElement("div",{className:"org-detail-table"},a.a.createElement(Y.default,{columns:R,dataSource:h,pagination:!1,rowKey:function(e){return e.id},tableLayout:"fixed",locale:{emptyText:a.a.createElement(x.a,null)}}),a.a.createElement(ae.a,{currentPage:(null==l||null===(t=l.pageParam)||void 0===t?void 0:t.currentPage)||1,changPage:K,page:I})),a.a.createElement(ee,ie({},e,{orgId:r.orgaId,visible:A,setVisible:T,getOrgaUser:U,loadTreeParams:d,dirId:r.dirId,userDir:i})))):a.a.createElement(x.a,{title:"组织树结构为空，你需要创建一个"})))}))),fe=r(813),pe=r(684);function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object(pe.a)(".orga_container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.orga_container_body {\n  width: 100%;\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.orga-tree-wrap {\n  min-width: 280px;\n  width: 280px;\n  height: 100%;\n  border-right: 1px solid var(--tiklab-gray-200);\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.orga-tree-wrap .orga-tree-wrap-upper {\n  padding: 15px;\n}\n.orga-tree-wrap .orga-tree-wrap-upper .upper-add {\n  padding: 6px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.orga-tree-wrap .orga-tree-wrap-upper .upper-add:hover {\n  background-color: #f6f7f8;\n}\n.orga-tree-wrap .orga-tree-wrap-upper .user-search-input {\n  background-color: #f6f7f8 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree {\n  height: 100%;\n  width: 100%;\n  padding: 0 15px 15px;\n  overflow: auto;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree {\n  background: transparent !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree .ant-tree-indent .ant-tree-indent-unit:first-child {\n  width: 0 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-switcher {\n  -webkit-align-self: center !important;\n      -ms-flex-item-align: center !important;\n          align-self: center !important;\n  color: rgba(0, 0, 0, 0.8509803922) !important;\n  width: 18px !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .parent-tree-name .ant-tree-switcher {\n  width: 0 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .parent-tree-name .ant-tree-node-content-wrapper {\n  padding-left: 0 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-content-wrapper {\n  padding: 4px !important;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-content-wrapper:hover {\n  background-color: transparent !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-content-wrapper .ant-tree-title {\n  width: 100%;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-content-wrapper .ant-tree-iconEle {\n  height: auto;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-draggable-icon {\n  display: none !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree.ant-tree-directory .ant-tree-treenode {\n  padding: 0;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree.ant-tree-directory .ant-tree-treenode:hover {\n  background: #f6f7f8 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree.ant-tree-directory .ant-tree-treenode:before {\n  content: none;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-selected, .orga-tree-wrap .orga-tree-wrap-tree .ant-tree-treenode-selected {\n  background-color: #f6f7f8 !important;\n  color: rgba(0, 0, 0, 0.8509803922) !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .ant-tree-node-selected:before, .orga-tree-wrap .orga-tree-wrap-tree .ant-tree-treenode-selected:before {\n  background: #f6f7f8 !important;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .orga-tree_item_action_name {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action:hover .tiklab_tree_actions {\n  display: block;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action:hover .action_orgaNumber_hide {\n  display: none;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .tiklab_tree_actions {\n  display: none;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .orga-tree_item_action_orgaNumber {\n  color: #999999;\n  font-size: 13px;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .action_orgaNumber_hide {\n  display: block;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .tiklab_tree_actions-icon {\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 4px;\n}\n.orga-tree-wrap .orga-tree-wrap-tree .orga-tree_item_action .tiklab_tree_actions-icon:hover {\n  background: #FFFFFF;\n}\n\n.orga_table {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  padding: 20px 30px;\n}\n.orga_table_right {\n  min-width: 576px;\n}\n.orga_table-empty {\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.orga_table .org-detail-item {\n  padding-bottom: 15px;\n}\n.orga_table .org-detail-item label {\n  width: 80px;\n  display: inline-block;\n}\n.orga_table .org-detail-table {\n  margin-top: var(--tiklab-padding-item);\n}\n.orga_table .org-detail_title2_main {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.orga_table .org-detail_user_title2 {\n  font-weight: var(--tiklab-font-weight-bold);\n}\n\n.orga-tree-actions-menu {\n  -webkit-box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.2509803922), 0 0 1px rgba(9, 30, 66, 0.3098039216);\n          box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.2509803922), 0 0 1px rgba(9, 30, 66, 0.3098039216);\n  border-radius: 4px;\n  background: #ffffff;\n}\n.orga-tree-actions-menu .orga-tree-actions-item {\n  padding: 8px 20px;\n}\n.orga-tree-actions-menu .orga-tree-actions-item:hover {\n  background: #f4f4f4;\n  cursor: pointer;\n}\n.orga-tree-actions-menu .orga-tree-actions-item:first-child {\n  border-radius: 4px 4px 0 0;\n}\n.orga-tree-actions-menu .orga-tree-actions-item:last-child {\n  border-radius: 0 0 4px 4px;\n}");var ye=Object(i.inject)(N.a)(Object(i.observer)((function(e){var t=e.orgStore,r=t.findOpenUserDirListAction,i=t.findOrgaOrChild,c=localStorage.getItem(l.LOCALSTORAGE_KEY.AUTH_CONFIG);if(c){var u=JSON.parse(c);if(!u.authType&&-1===u.appName.indexOf("soular"))return a.a.createElement(fe.a,{module:"部门",link:"/orga"})}var d=me(Object(n.useState)([]),2),s=d[0],g=d[1],f=me(Object(n.useState)({}),2),p=f[0],m=f[1],b=me(Object(n.useState)(!1),2),y=b[0],h=b[1],w={currentPage:1,pageSize:10},v=me(Object(n.useState)(null),2),O=v[0],x=v[1],j=me(Object(n.useState)({orgaId:"111111"}),2),E=j[0],I=j[1],S=me(Object(n.useState)(null),2),_=S[0],k=S[1];Object(n.useEffect)((function(){r().then((function(e){e.code||g(e.data)}))}),[]),Object(n.useEffect)((function(){P()}),[E]);var P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];h(!0),i(E).then((function(t){0===t.code&&(k(t.data),e&&N(t.data[0])),h(!1)}))},N=function(e){m(e),x({pageParam:w})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P(e)};return a.a.createElement("div",{className:"orga_container"},a.a.createElement(o.default,{spinning:y},a.a.createElement("div",{className:"orga_container_body"},a.a.createElement(J,{orgStore:t,userDir:s,selectOrg:p,onSelect:N,loadTreeParams:A,setTreeParams:I,treeData:_,setTreeData:k}),a.a.createElement(ge,{userDir:s,selectOrg:p,params:O,setParams:x,loadTreeParams:A}))))})));function he(){return(he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var we=function(e){return a.a.createElement(ye,he({},e,{bgroup:"hadess"}))}},949:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/ldap1.png"},950:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/dingding1.png"},951:function(e,t,r){"use strict";r.r(t),t.default=r.p+"images/qywechat1.png"}}]);